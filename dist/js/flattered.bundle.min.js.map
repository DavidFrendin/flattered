{"version":3,"sources":["../../js/src/modal.js","../../js/index.umd.js","../../js/src/button.js"],"names":["Modal","[object Object]","window","alert","message","modal","content","show","confirm","console","log","prompt","Promise","resolve","reject","dialog","document","createElement","className","this","caption","appendChild","createTextNode","innerHTML","actions","footer","i","length","action","setAttribute","addEventListener","e","close","target","innerText","clickToDismiss","rect","getBoundingClientRect","clientX","x","width","clientY","y","height","parentElement","removeChild","body","showModal","dom_init","Button"],"mappings":";;;;;gMAMA,MAAMA,EAGFC,kBAGQC,OAAOC,MAAQ,SAASC,GAEpB,IAAIC,EAAQ,IAAIL,EAChBK,EAAMC,QAAUF,EAChBC,EAAME,QAGVL,OAAOM,QAAU,WAEbC,QAAQC,IAAI,mBAGhBR,OAAOS,OAAS,WAEZF,QAAQC,IAAI,kBAKxBH,OAEI,OAAO,IAAIK,QAAQ,CAACC,EAASC,KACzB,IAAIC,EAASC,SAASC,cAAc,UAGpC,GAFAF,EAAOG,UAAY,wBAEfC,KAAKC,QACT,CACI,IAAIA,EAAUJ,SAASC,cAAc,UACrCG,EAAQC,YAAYL,SAASM,eAAeH,KAAKC,UACjDL,EAAOM,YAAYD,GAGvB,IAAId,EAAUU,SAASC,cAAc,QACrCX,EAAQiB,UAAYJ,KAAKb,QACzBS,EAAOM,YAAYf,GAEnB,IAAIkB,EAAUL,KAAKK,QACdA,IAEDA,EAAU,CAAC,OAGf,IADA,IAAIC,EAAST,SAASC,cAAc,UAC3BS,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IACpC,CACI,IAAIE,EAASZ,SAASC,cAAc,UACpCW,EAAOP,YAAYL,SAASM,eAAeE,EAAQE,KACnDE,EAAOC,aAAa,SAAU,IAE9BJ,EAAOJ,YAAYO,GACnBA,EAAOE,iBAAiB,QAASC,IAC7BhB,EAAOiB,QACPnB,EAAQkB,EAAEE,OAAOC,aAGzBnB,EAAOM,YAAYI,GAEfN,KAAKgB,gBAELpB,EAAOe,iBAAiB,QAASC,IAC7B,IAAIK,EAAOrB,EAAOsB,yBACdN,EAAEO,QAAUF,EAAKG,GAAKR,EAAEO,QAAWF,EAAKG,EAAIH,EAAKI,OAAUT,EAAEU,QAAUL,EAAKM,GAAKX,EAAEU,QAAWL,EAAKM,EAAIN,EAAKO,UAE5G5B,EAAOiB,QACPnB,EAAQ,OAEZJ,QAAQC,MACRD,QAAQC,IAAIqB,KAIpBhB,EAAOe,iBAAiB,QAASC,IAC7BhB,EAAO6B,cAAcC,YAAY9B,KAGrCC,SAAS8B,KAAKzB,YAAYN,GAC1BA,EAAOgC,sBC7EnB/C,EAAMgD,WAGN,CACEC,OCRF,QDSEjD,MAAAA","sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Flattered (v1.0.0): modal.js\r\n * Licensed under MIT (https://github.com/DavidFrendin/flattered/blob/master/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\nclass Modal\r\n{\r\n\r\n    static dom_init () {\r\n        (function()\r\n        {\r\n            window.alert = function(message)\r\n            {\r\n                var modal = new Modal();\r\n                modal.content = message;\r\n                modal.show();\r\n            }\r\n            \r\n            window.confirm = function()\r\n            {\r\n                console.log('should confirm');\r\n            }\r\n            \r\n            window.prompt = function()\r\n            {\r\n                console.log('should prompt');\r\n            }\r\n        })();\r\n    }\r\n\r\n    show()\r\n    {\r\n        return new Promise((resolve, reject) => {\r\n            var dialog = document.createElement('dialog');\r\n            dialog.className = 'material-elevation-24';\r\n\r\n            if (this.caption)\r\n            {\r\n                var caption = document.createElement('header');\r\n                caption.appendChild(document.createTextNode(this.caption));\r\n                dialog.appendChild(caption);\r\n            }\r\n\r\n            var content = document.createElement('main');\r\n            content.innerHTML = this.content;\r\n            dialog.appendChild(content);\r\n\r\n            var actions = this.actions;\r\n            if (!actions)\r\n            {\r\n                actions = ['Ok'];\r\n            }\r\n            var footer = document.createElement('footer');\r\n            for (var i = 0; i < actions.length; i++)\r\n            {\r\n                var action = document.createElement('button');\r\n                action.appendChild(document.createTextNode(actions[i]));\r\n                action.setAttribute('action', '');\r\n                //action.shadowRoot.innerHTML = action.innerHTML;\r\n                footer.appendChild(action);\r\n                action.addEventListener('click', e => {\r\n                    dialog.close();\r\n                    resolve(e.target.innerText);\r\n                });\r\n            }\r\n            dialog.appendChild(footer);\r\n\r\n            if (this.clickToDismiss)\r\n            {\r\n                dialog.addEventListener('click', e => {\r\n                    var rect = dialog.getBoundingClientRect();\r\n                    if (e.clientX < rect.x || e.clientX > (rect.x + rect.width) || e.clientY < rect.y || e.clientY > (rect.y + rect.height))\r\n                    {\r\n                        dialog.close();\r\n                        resolve(null);\r\n                    }\r\n                    console.log();\r\n                    console.log(e);\r\n                });\r\n            }\r\n\r\n            dialog.addEventListener('close', e => {\r\n                dialog.parentElement.removeChild(dialog);\r\n            });\r\n\r\n            document.body.appendChild(dialog);\r\n            dialog.showModal();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default Modal","/**\r\n * --------------------------------------------------------------------------\r\n * Flattered (v1.0.0): index.umd.js\r\n * Licensed under MIT (https://github.com/DavidFrendin/flattered/blob/master/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nimport Button from './src/button'\r\nimport Modal from './src/modal'\r\n\r\nModal.dom_init();\r\n\r\nexport default\r\n{\r\n  Button,\r\n  Modal\r\n}\r\n\r\n/*import Alert from './src/alert'\r\nimport Button from './src/button'\r\nimport Carousel from './src/carousel'\r\nimport Collapse from './src/collapse'\r\nimport Dropdown from './src/dropdown'\r\nimport Modal from './src/modal'\r\nimport Popover from './src/popover'\r\nimport ScrollSpy from './src/scrollspy'\r\nimport Tab from './src/tab'\r\nimport Toast from './src/toast'\r\nimport Tooltip from './src/tooltip'\r\n\r\nexport default {\r\n  Alert,\r\n  Button,\r\n  Carousel,\r\n  Collapse,\r\n  Dropdown,\r\n  Modal,\r\n  Popover,\r\n  ScrollSpy,\r\n  Tab,\r\n  Toast,\r\n  Tooltip\r\n}*/","/**\r\n * --------------------------------------------------------------------------\r\n * Flattered (v1.0.0): button.js\r\n * Licensed under MIT (https://github.com/DavidFrendin/flattered/blob/master/LICENSE)\r\n * --------------------------------------------------------------------------\r\n */\r\nclass Button\r\n{\r\n    \r\n}\r\n\r\nexport default Button"]}